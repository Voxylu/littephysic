{"version":3,"sources":["../node_modules/vancas/dist/cjs/CanvasWrapper.js","../node_modules/vancas/dist/cjs/CanvasLogic.js","../node_modules/vancas/dist/cjs/CanvasDrawers.js","../node_modules/vancas/dist/cjs/CanvasGroups.js","../node_modules/vancas/dist/cjs/CanvasImage.js","../node_modules/vancas/dist/cjs/index.js","mouse.ts","../lib/segment/segment.ts","../lib/segment/index.ts","../lib/rectangle/rectangle.ts","../lib/rectangle/index.ts","../lib/circle/circleSegment.ts","../lib/circle/circle.ts","../lib/circle/index.ts","../lib/triangle/pointInPolygon.ts","../lib/triangle/triangle.ts","../lib/triangle/index.ts","../lib/index.ts","main.ts","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","window","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","document","body","appendChild","getElementById","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","length","concat","Function","deps","cached","cache","some","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACxBA,IAAA,eAAA;AAAA;AAAA,YAAA;AAIE,WAAA,eAAA,CAAoB,IAApB,EAA8C;AAA9C,QAAA,KAAA,GAAA,IAAA;;AAAoB,SAAA,IAAA,GAAA,IAAA;AAHb,SAAA,CAAA,GAAI,CAAJ;AACA,SAAA,CAAA,GAAI,CAAJ;;AAcC,SAAA,EAAA,GAAK,YAAA,CAAQ,CAAb;;AAER,SAAA,WAAA,GAAc,YAAA;AACZ,MAAA,KAAI,CAAC,EAAL;AACD,KAFD;;AAQA,SAAA,WAAA,GAAc,UAAC,KAAD,EAAkB;AAC9B,MAAA,KAAI,CAAC,CAAL,GAAS,KAAK,CAAC,OAAN,GAAgB,KAAI,CAAC,IAAL,CAAU,IAAnC;AACA,MAAA,KAAI,CAAC,CAAL,GAAS,KAAK,CAAC,OAAN,GAAgB,KAAI,CAAC,IAAL,CAAU,GAAnC;AACD,KAHD;;AArBE,IAAA,MAAM,CAAC,gBAAP,CAAwB,WAAxB,EAAqC,KAAK,WAA1C,EAD4C,CAE5C;;AACA,IAAA,MAAM,CAAC,gBAAP,CAAwB,WAAxB,EAAqC,KAAK,WAA1C;AACD;;AAED,EAAA,eAAA,CAAA,SAAA,CAAA,OAAA,GAAA,YAAA;AACE,IAAA,MAAM,CAAC,mBAAP,CAA2B,WAA3B,EAAwC,KAAK,WAA7C,EADF,CAEE;;AACA,IAAA,MAAM,CAAC,mBAAP,CAA2B,WAA3B,EAAwC,KAAK,WAA7C;AACD,GAJD;;AAYA,EAAA,eAAA,CAAA,SAAA,CAAA,OAAA,GAAA,UAAQ,EAAR,EAAqB;AACnB,SAAK,EAAL,GAAU,EAAV;AACD,GAFD;;AAQF,SAAA,eAAA;AA9BA,CAAA,EAAA;;AAAa,OAAA,CAAA,eAAA,GAAA,eAAA;;;;;;;;ACEb,IAAA,KAAA;AAAA;AAAA,YAAA;AACE,WAAA,KAAA,CAAmB,CAAnB,EAAqC,CAArC,EAA8C;AAA3B,SAAA,CAAA,GAAA,CAAA;AAAkB,SAAA,CAAA,GAAA,CAAA;AAAa;;AACpD,SAAA,KAAA;AAFA,CAAA,EAAA;;AAAa,OAAA,CAAA,KAAA,GAAA,KAAA;;AAIb,IAAA,OAAA;AAAA;AAAA,YAAA;AAGE,WAAA,OAAA,CAAmB,MAAnB,EAAyC,MAAzC,EAAsD;AAAnC,SAAA,MAAA,GAAA,MAAA;AAAsB,SAAA,MAAA,GAAA,MAAA;AAFlC,SAAA,KAAA,GAAmB,SAAnB;AAEmD;;AAE1D,EAAA,MAAA,CAAA,cAAA,CAAI,OAAA,CAAA,SAAJ,EAAI,QAAJ,EAAU;SAAV,eAAA;AACE,aAAO,IAAI,CAAC,IAAL,CACL,IAAA,CAAA,GAAA,CAAC,KAAK,MAAL,CAAY,CAAZ,GAAgB,KAAK,MAAL,CAAY,CAA7B,EAAmC,CAAnC,IACE,IAAA,CAAA,GAAA,CAAC,KAAK,MAAL,CAAY,CAAZ,GAAgB,KAAK,MAAL,CAAY,CAA7B,EAAmC,CAAnC,CAFG,CAAP;AAID,KALS;oBAAA;;AAAA,GAAV;;AAOA,EAAA,OAAA,CAAA,SAAA,CAAA,OAAA,GAAA,UAAQ,KAAR,EAA6B;AAC3B,QAAI,KAAK,CAAC,KAAN,KAAgB,SAApB,EAA+B;AAC7B,UAAM,GAAG,GAAG,KAAK,kBAAL,CAAwB,KAAxB,CAAZ;;AACA,UAAI,GAAJ,EAAS;AACP,eAAO,IAAP;AACD,OAFD,MAEO;AACL,eAAO,KAAP;AACD;AACF,KAPD,MAOO,IAAI,KAAK,CAAC,KAAN,KAAgB,WAApB,EAAiC;AACtC,aAAO,KAAK,oBAAL,CAA0B,KAA1B,CAAP;AACD,KAFM,MAEA,IAAI,KAAK,CAAC,KAAN,KAAgB,QAApB,EAA8B;AACnC,aAAO,KAAK,CAAC,OAAN,CAAc,IAAd,CAAP;AACD,KAFM,MAEA,IAAI,KAAK,CAAC,KAAN,KAAgB,UAApB,EAAgC;AACrC,aAAO,KAAK,CAAC,OAAN,CAAc,IAAd,CAAP;AACD;;AAED,IAAA,OAAO,CAAC,KAAR,CACE,qBAAmB,IAAI,CAAC,SAAL,CACjB,IADiB,CAAnB,GAEC,wBAFD,GAE0B,IAAI,CAAC,SAAL,CAAe,KAAf,CAH5B;AAKA,WAAO,KAAP;AACD,GAtBD;;AAwBA,EAAA,OAAA,CAAA,SAAA,CAAA,oBAAA,GAAA,UAAqB,KAArB,EAAmD;AACjD,QAAM,SAAS,GACb,KAAK,MAAL,CAAY,CAAZ,GAAgB,KAAK,CAAC,CAAtB,IAA2B,KAAK,MAAL,CAAY,CAAZ,GAAgB,KAAK,CAAC,CAAN,GAAU,KAAK,CAAC,KAD7D;AAEA,QAAM,SAAS,GACb,KAAK,MAAL,CAAY,CAAZ,GAAgB,KAAK,CAAC,CAAtB,IAA2B,KAAK,MAAL,CAAY,CAAZ,GAAgB,KAAK,CAAC,CAAN,GAAU,KAAK,CAAC,MAD7D;;AAGA,QAAI,SAAS,IAAI,SAAjB,EAA4B;AAC1B,aAAO,IAAP;AACD;;AAED,QAAM,aAAa,GAAG,CACpB,IAAI,OAAJ,CACE,IAAI,KAAJ,CAAU,KAAK,CAAC,CAAhB,EAAmB,KAAK,CAAC,CAAzB,CADF,EAEE,IAAI,KAAJ,CAAU,KAAK,CAAC,CAAN,GAAU,KAAK,CAAC,KAA1B,EAAiC,KAAK,CAAC,CAAvC,CAFF,CADoB,EAKpB,IAAI,OAAJ,CACE,IAAI,KAAJ,CAAU,KAAK,CAAC,CAAN,GAAU,KAAK,CAAC,KAA1B,EAAiC,KAAK,CAAC,CAAvC,CADF,EAEE,IAAI,KAAJ,CAAU,KAAK,CAAC,CAAN,GAAU,KAAK,CAAC,KAA1B,EAAiC,KAAK,CAAC,CAAN,GAAU,KAAK,CAAC,MAAjD,CAFF,CALoB,EASpB,IAAI,OAAJ,CACE,IAAI,KAAJ,CAAU,KAAK,CAAC,CAAN,GAAU,KAAK,CAAC,KAA1B,EAAiC,KAAK,CAAC,CAAN,GAAU,KAAK,CAAC,MAAjD,CADF,EAEE,IAAI,KAAJ,CAAU,KAAK,CAAC,CAAhB,EAAmB,KAAK,CAAC,CAAN,GAAU,KAAK,CAAC,MAAnC,CAFF,CAToB,EAapB,IAAI,OAAJ,CACE,IAAI,KAAJ,CAAU,KAAK,CAAC,CAAhB,EAAmB,KAAK,CAAC,CAAN,GAAU,KAAK,CAAC,MAAnC,CADF,EAEE,IAAI,KAAJ,CAAU,KAAK,CAAC,CAAhB,EAAmB,KAAK,CAAC,CAAzB,CAFF,CAboB,CAAtB;;AAkBA,SAAsB,IAAA,EAAA,GAAA,CAAA,EAAA,eAAA,GAAA,aAAtB,EAAsB,EAAA,GAAA,eAAA,CAAA,MAAtB,EAAsB,EAAA,EAAtB,EAAqC;AAAhC,UAAM,OAAO,GAAA,eAAA,CAAA,EAAA,CAAb;AACH,UAAM,GAAG,GAAG,KAAK,kBAAL,CAAwB,OAAxB,CAAZ;;AACA,UAAI,GAAJ,EAAS;AACP,eAAO,IAAP;AACD;AACF;;AACD,WAAO,KAAP;AACD,GAnCD;AAqCA;;;AACA,EAAA,OAAA,CAAA,SAAA,CAAA,kBAAA,GAAA,UAAmB,KAAnB,EAA+C;AAC7C,QAAI,IAAI,GAAG,KAAK,MAAL,CAAY,CAAZ,GAAgB,KAAK,MAAL,CAAY,CAAvC;AACA,QAAI,IAAI,GAAG,KAAK,MAAL,CAAY,CAAZ,GAAgB,KAAK,MAAL,CAAY,CAAvC;AACA,QAAI,IAAI,GAAG,KAAK,CAAC,MAAN,CAAa,CAAb,GAAiB,KAAK,CAAC,MAAN,CAAa,CAAzC;AACA,QAAI,IAAI,GAAG,KAAK,CAAC,MAAN,CAAa,CAAb,GAAiB,KAAK,CAAC,MAAN,CAAa,CAAzC;AAEA,QAAI,CAAC,GACH,CAAC,CAAC,IAAD,IAAS,KAAK,MAAL,CAAY,CAAZ,GAAgB,KAAK,CAAC,MAAN,CAAa,CAAtC,IACC,IAAI,IAAI,KAAK,MAAL,CAAY,CAAZ,GAAgB,KAAK,CAAC,MAAN,CAAa,CAAjC,CADN,KAEC,CAAC,IAAD,GAAQ,IAAR,GAAe,IAAI,GAAG,IAFvB,CADF;AAIA,QAAI,CAAC,GACH,CAAC,IAAI,IAAI,KAAK,MAAL,CAAY,CAAZ,GAAgB,KAAK,CAAC,MAAN,CAAa,CAAjC,CAAJ,GACC,IAAI,IAAI,KAAK,MAAL,CAAY,CAAZ,GAAgB,KAAK,CAAC,MAAN,CAAa,CAAjC,CADN,KAEC,CAAC,IAAD,GAAQ,IAAR,GAAe,IAAI,GAAG,IAFvB,CADF;;AAKA,QAAI,CAAC,IAAI,CAAL,IAAU,CAAC,IAAI,CAAf,IAAoB,CAAC,IAAI,CAAzB,IAA8B,CAAC,IAAI,CAAvC,EAA0C;AACxC;AACA,UAAI,IAAI,GAAG,KAAK,MAAL,CAAY,CAAZ,GAAgB,CAAC,GAAG,IAA/B;AACA,UAAI,IAAI,GAAG,KAAK,MAAL,CAAY,CAAZ,GAAgB,CAAC,GAAG,IAA/B;AACA,aAAO,IAAI,KAAJ,CAAU,IAAV,EAAgB,IAAhB,CAAP;AACD;;AACD,WAAO,KAAP;AACD,GAtBD;;AAuBF,SAAA,OAAA;AAjGA,CAAA,EAAA;;AAAa,OAAA,CAAA,OAAA,GAAA,OAAA;;;;;;;;;;;;;;ACCb,QAAA,CAAA,OAAA,CAAA,WAAA,CAAA,CAAA;;;;;;;;ACNA,IAAA,SAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AAEA,IAAA,SAAA;AAAA;AAAA,YAAA;AAGE,WAAA,SAAA,CACS,CADT,EAES,CAFT,EAGS,KAHT,EAIS,MAJT,EAIuB;AAHd,SAAA,CAAA,GAAA,CAAA;AACA,SAAA,CAAA,GAAA,CAAA;AACA,SAAA,KAAA,GAAA,KAAA;AACA,SAAA,MAAA,GAAA,MAAA;AANF,SAAA,KAAA,GAAqB,WAArB;AAOH;;AAEJ,EAAA,SAAA,CAAA,SAAA,CAAA,OAAA,GAAA,UAAQ,KAAR,EAA6B;AAC3B,QAAI,KAAK,CAAC,KAAN,KAAgB,WAApB,EAAiC;AAC/B,aAAO,KAAK,oBAAL,CAA0B,KAA1B,CAAP;AACD,KAFD,MAEO,IAAI,KAAK,CAAC,KAAN,KAAgB,SAApB,EAA+B;AACpC,aAAO,KAAK,CAAC,OAAN,CAAc,IAAd,CAAP;AACD,KAFM,MAEA,IAAI,KAAK,CAAC,KAAN,KAAgB,QAApB,EAA8B;AACnC,aAAO,KAAK,CAAC,OAAN,CAAc,IAAd,CAAP;AACD,KAFM,MAEA,IAAI,KAAK,CAAC,KAAN,KAAgB,UAApB,EAAgC;AACrC,aAAO,KAAK,mBAAL,CAAyB,KAAzB,CAAP;AACD;;AACD,IAAA,OAAO,CAAC,KAAR,CAAc,qBAAmB,IAAnB,GAAuB,wBAAvB,GAAgD,KAA9D;AACA,WAAO,KAAP;AACD,GAZD;;AAcA,EAAA,MAAA,CAAA,cAAA,CAAI,SAAA,CAAA,SAAJ,EAAI,UAAJ,EAAY;SAAZ,eAAA;AACE,aAAO,CACL,IAAI,SAAA,CAAA,OAAJ,CACE,IAAI,SAAA,CAAA,KAAJ,CAAU,KAAK,CAAf,EAAkB,KAAK,CAAvB,CADF,EAEE,IAAI,SAAA,CAAA,KAAJ,CAAU,KAAK,CAAL,GAAS,KAAK,KAAxB,EAA+B,KAAK,CAApC,CAFF,CADK,EAKL,IAAI,SAAA,CAAA,OAAJ,CACE,IAAI,SAAA,CAAA,KAAJ,CAAU,KAAK,CAAL,GAAS,KAAK,KAAxB,EAA+B,KAAK,CAApC,CADF,EAEE,IAAI,SAAA,CAAA,KAAJ,CAAU,KAAK,CAAL,GAAS,KAAK,KAAxB,EAA+B,KAAK,CAAL,GAAS,KAAK,MAA7C,CAFF,CALK,EASL,IAAI,SAAA,CAAA,OAAJ,CACE,IAAI,SAAA,CAAA,KAAJ,CAAU,KAAK,CAAL,GAAS,KAAK,KAAxB,EAA+B,KAAK,CAAL,GAAS,KAAK,MAA7C,CADF,EAEE,IAAI,SAAA,CAAA,KAAJ,CAAU,KAAK,CAAf,EAAkB,KAAK,CAAL,GAAS,KAAK,MAAhC,CAFF,CATK,EAaL,IAAI,SAAA,CAAA,OAAJ,CACE,IAAI,SAAA,CAAA,KAAJ,CAAU,KAAK,CAAf,EAAkB,KAAK,CAAL,GAAS,KAAK,MAAhC,CADF,EAEE,IAAI,SAAA,CAAA,KAAJ,CAAU,KAAK,CAAf,EAAkB,KAAK,CAAvB,CAFF,CAbK,CAAP;AAkBD,KAnBW;oBAAA;;AAAA,GAAZ;;AAqBA,EAAA,SAAA,CAAA,SAAA,CAAA,mBAAA,GAAA,UAAoB,KAApB,EAAiD;AAC/C,SAAoB,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,KAAK,CAAC,MAA1B,EAAoB,EAAA,GAAA,EAAA,CAAA,MAApB,EAAoB,EAAA,EAApB,EAAkC;AAA7B,UAAM,KAAK,GAAA,EAAA,CAAA,EAAA,CAAX;AACH,UAAM,SAAS,GAA4B;AACzC,QAAA,OAAO,EAAE,mBAAA;AAAM,iBAAA,KAAA;AAAK,SADqB;AAEzC,QAAA,KAAK,EAAE,WAFkC;AAGzC,QAAA,CAAC,EAAE,KAAK,CAAC,CAHgC;AAIzC,QAAA,CAAC,EAAE,KAAK,CAAC,CAJgC;AAKzC,QAAA,MAAM,EAAE,CALiC;AAMzC,QAAA,KAAK,EAAE;AANkC,OAA3C;;AAQA,UAAI,KAAK,oBAAL,CAA0B,SAA1B,CAAJ,EAA0C;AACxC,eAAO,IAAP;AACD;AACF;;AACD,SAAwB,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,KAAK,QAA7B,EAAwB,EAAA,GAAA,EAAA,CAAA,MAAxB,EAAwB,EAAA,EAAxB,EAAuC;AAAlC,UAAM,SAAS,GAAA,EAAA,CAAA,EAAA,CAAf;;AACH,WAA2B,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,KAAK,CAAC,QAAjC,EAA2B,EAAA,GAAA,EAAA,CAAA,MAA3B,EAA2B,EAAA,EAA3B,EAA2C;AAAtC,YAAM,YAAY,GAAA,EAAA,CAAA,EAAA,CAAlB;;AACH,YAAI,SAAS,CAAC,OAAV,CAAkB,YAAlB,CAAJ,EAAqC;AACnC,iBAAO,IAAP;AACD;AACF;AACF;;AACD,WAAO,KAAP;AACD,GAtBD;;AAwBA,EAAA,SAAA,CAAA,SAAA,CAAA,oBAAA,GAAA,UAAqB,KAArB,EAAmD;AACjD,QAAM,UAAU,GACd,KAAK,CAAL,GAAS,KAAK,KAAd,GAAsB,KAAK,CAAC,CAA5B,IAAiC,KAAK,CAAL,GAAS,KAAK,CAAC,CAAN,GAAU,KAAK,CAAC,KAD5D;AAEA,QAAM,UAAU,GACd,KAAK,CAAL,GAAS,KAAK,MAAd,GAAuB,KAAK,CAAC,CAA7B,IAAkC,KAAK,CAAL,GAAS,KAAK,CAAC,CAAN,GAAU,KAAK,CAAC,MAD7D;;AAGA,QAAI,UAAU,IAAI,UAAlB,EAA8B;AAC5B,aAAO,IAAP;AACD,KAFD,MAEO;AACL,aAAO,KAAP;AACD;AACF,GAXD;;AAYF,SAAA,SAAA;AAjFA,CAAA,EAAA;;AAAa,OAAA,CAAA,SAAA,GAAA,SAAA;;;;;;;;;;;;;;ACKb,QAAA,CAAA,OAAA,CAAA,aAAA,CAAA,CAAA;;;;;;;;ACTA,IAAA,SAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AAEA,IAAA,QAAA;AAAA;AAAA,YAAA;AACE,WAAA,QAAA,CAAmB,CAAnB,EAAqC,CAArC,EAA8C;AAA3B,SAAA,CAAA,GAAA,CAAA;AAAkB,SAAA,CAAA,GAAA,CAAA;AAAa;;AAE3C,EAAA,QAAA,CAAA,UAAA,GAAP,UAAkB,CAAlB,EAA4B,CAA5B,EAAoC;AAClC,WAAO,IAAI,QAAJ,CAAa,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAArB,EAAwB,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAAhC,CAAP;AACD,GAFM;;AAIP,EAAA,QAAA,CAAA,SAAA,CAAA,GAAA,GAAA,UAAI,MAAJ,EAAoB;AAClB,WAAO,KAAK,CAAL,GAAS,MAAM,CAAC,CAAhB,GAAoB,KAAK,CAAL,GAAS,MAAM,CAAC,CAA3C;AACD,GAFD;;AAIO,EAAA,QAAA,CAAA,IAAA,GAAP,UAAY,MAAZ,EAA8B,MAA9B,EAA4C;AAC1C,WAAO,IAAI,QAAJ,CAAa,MAAM,CAAC,CAAP,GAAW,MAAxB,EAAgC,MAAM,CAAC,CAAP,GAAW,MAA3C,CAAP;AACD,GAFM;;AAGT,SAAA,QAAA;AAdA,CAAA,EAAA;;AAAa,OAAA,CAAA,QAAA,GAAA,QAAA;;AAgBA,OAAA,CAAA,aAAA,GAAgB,UAC3B,MAD2B,EAE3B,EAF2B,EAEoB;MAA7C,CAAA,GAAA,EAAA,CAAA;MAAW,CAAA,GAAA,EAAA,CAAA,OAAkC,CAE/C;;AACA,MAAI,IAAA,CAAA,GAAA,CAAC,CAAC,CAAC,CAAF,GAAM,MAAM,CAAC,CAAd,EAAoB,CAApB,IAAwB,IAAA,CAAA,GAAA,CAAC,CAAC,CAAC,CAAF,GAAM,MAAM,CAAC,CAAd,EAAoB,CAApB,CAAxB,IAAiD,IAAA,CAAA,GAAA,CAAA,MAAM,CAAC,MAAP,EAAiB,CAAjB,CAArD,EAAyE;AACvE,WAAO,IAAP;AACD;;AAED,MAAM,CAAC,GAAG,IAAI,SAAA,CAAA,KAAJ,CAAU,MAAM,CAAC,CAAjB,EAAoB,MAAM,CAAC,CAA3B,CAAV;AACA,MAAM,CAAC,GAAG,MAAM,CAAC,MAAjB;AAEA,MAAM,CAAC,GAAG,QAAQ,CAAC,UAAT,CAAoB,CAApB,EAAuB,CAAvB,CAAV;AACA,MAAM,CAAC,GAAG,QAAQ,CAAC,UAAT,CAAoB,CAApB,EAAuB,CAAvB,CAAV;AAEA,MAAI,CAAC,GAAG,CAAC,CAAC,GAAF,CAAM,CAAN,CAAR;AACA,MAAI,CAAC,GAAG,IAAI,CAAC,CAAC,GAAF,CAAM,CAAN,CAAZ;AACA,MAAI,CAAC,GAAG,CAAC,CAAC,GAAF,CAAM,CAAN,IAAW,CAAC,GAAG,CAAvB;AAEA,MAAI,YAAY,GAAG,CAAC,GAAG,CAAJ,GAAQ,IAAI,CAAJ,GAAQ,CAAnC;;AAEA,MAAI,YAAY,GAAG,CAAnB,EAAsB;AACpB,WAAO,KAAP;AACD,GAFD,MAEO;AACL,IAAA,YAAY,GAAG,IAAI,CAAC,IAAL,CAAU,YAAV,CAAf;AAEA,QAAI,EAAE,GAAG,CAAC,CAAC,CAAD,GAAK,YAAN,KAAuB,IAAI,CAA3B,CAAT;AACA,QAAI,EAAE,GAAG,CAAC,CAAC,CAAD,GAAK,YAAN,KAAuB,IAAI,CAA3B,CAAT;;AAEA,QAAI,EAAE,IAAI,CAAN,IAAW,EAAE,IAAI,CAArB,EAAwB;AACtB,aAAO,IAAP;AACD;;AACD,QAAI,EAAE,IAAI,CAAN,IAAW,EAAE,IAAI,CAArB,EAAwB;AACtB,aAAO,IAAP;AACD;;AACD,WAAO,KAAP;AACD;AACF,CArCY;;;;;;;;AChBb,IAAA,eAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AAEA,IAAA,MAAA;AAAA;AAAA,YAAA;AAGE,WAAA,MAAA,CAAmB,CAAnB,EAAqC,CAArC,EAAuD,MAAvD,EAAqE;AAAlD,SAAA,CAAA,GAAA,CAAA;AAAkB,SAAA,CAAA,GAAA,CAAA;AAAkB,SAAA,MAAA,GAAA,MAAA;AAFhD,SAAA,KAAA,GAAkB,QAAlB;AAEkE;;AAEzE,EAAA,MAAA,CAAA,SAAA,CAAA,OAAA,GAAA,UAAQ,KAAR,EAA6B;AAC3B,QAAI,KAAK,CAAC,KAAN,KAAgB,QAApB,EAA8B;AAC5B,aAAO,KAAK,iBAAL,CAAuB,KAAvB,CAAP;AACD,KAFD,MAEO,IAAI,KAAK,CAAC,KAAN,KAAgB,WAApB,EAAiC;AACtC,aAAO,KAAK,oBAAL,CAA0B,KAA1B,CAAP;AACD,KAFM,MAEA,IAAI,KAAK,CAAC,KAAN,KAAgB,SAApB,EAA+B;AACpC,aAAO,eAAA,CAAA,aAAA,CAAc,IAAd,EAAoB,KAApB,CAAP;AACD,KAFM,MAEA,IAAI,KAAK,CAAC,KAAN,KAAgB,UAApB,EAAgC;AACrC,aAAO,KAAK,CAAC,OAAN,CAAc,IAAd,CAAP;AACD;;AACD,IAAA,OAAO,CAAC,KAAR,CACE,qBAAmB,IAAI,CAAC,SAAL,CACjB,IADiB,CAAnB,GAEC,wBAFD,GAE0B,IAAI,CAAC,SAAL,CAAe,KAAf,CAH5B;AAKA,WAAO,KAAP;AACD,GAhBD;;AAkBA,EAAA,MAAA,CAAA,SAAA,CAAA,oBAAA,GAAA,UAAqB,KAArB,EAAmD;AACjD,QAAM,cAAc,GAAG;AACrB,MAAA,CAAC,EAAE,IAAI,CAAC,GAAL,CAAS,KAAK,CAAL,IAAU,KAAK,CAAC,CAAN,GAAU,KAAK,CAAC,KAAN,GAAc,CAAlC,CAAT,CADkB;AAErB,MAAA,CAAC,EAAE,IAAI,CAAC,GAAL,CAAS,KAAK,CAAL,IAAU,KAAK,CAAC,CAAN,GAAU,KAAK,CAAC,MAAN,GAAe,CAAnC,CAAT;AAFkB,KAAvB;;AAKA,QAAI,cAAc,CAAC,CAAf,GAAmB,KAAK,CAAC,KAAN,GAAc,CAAd,GAAkB,KAAK,MAA9C,EAAsD;AACpD,aAAO,KAAP;AACD;;AACD,QAAI,cAAc,CAAC,CAAf,GAAmB,KAAK,CAAC,MAAN,GAAe,CAAf,GAAmB,KAAK,MAA/C,EAAuD;AACrD,aAAO,KAAP;AACD;;AACD,QAAI,cAAc,CAAC,CAAf,IAAoB,KAAK,CAAC,KAAN,GAAc,CAAtC,EAAyC;AACvC,aAAO,IAAP;AACD;;AACD,QAAI,cAAc,CAAC,CAAf,IAAoB,KAAK,CAAC,MAAN,GAAe,CAAvC,EAA0C;AACxC,aAAO,IAAP;AACD;;AACD,QAAM,gBAAgB,GACpB,IAAA,CAAA,GAAA,CAAC,cAAc,CAAC,CAAf,GAAmB,KAAK,CAAC,KAAN,GAAc,CAAlC,EAAwC,CAAxC,IACA,IAAA,CAAA,GAAA,CAAC,cAAc,CAAC,CAAf,GAAmB,KAAK,CAAC,MAAN,GAAe,CAAnC,EAAyC,CAAzC,CAFF;AAGA,WAAO,gBAAgB,IAAI,IAAA,CAAA,GAAA,CAAA,KAAK,MAAL,EAAe,CAAf,CAA3B;AACD,GAtBD;;AAwBA,EAAA,MAAA,CAAA,SAAA,CAAA,iBAAA,GAAA,UAAkB,KAAlB,EAA6C;AAC3C,QACE,IAAA,CAAA,GAAA,CAAC,KAAK,CAAC,CAAN,GAAU,KAAK,CAAhB,EAAsB,CAAtB,IAA0B,IAAA,CAAA,GAAA,CAAC,KAAK,CAAC,CAAN,GAAU,KAAK,CAAhB,EAAsB,CAAtB,CAA1B,IACA,IAAA,CAAA,GAAA,CAAC,KAAK,CAAC,MAAN,GAAe,KAAK,MAArB,EAAgC,CAAhC,CAFF,EAGE;AACA,aAAO,IAAP;AACD,KALD,MAKO;AACL,aAAO,KAAP;AACD;AACF,GATD;;AAUF,SAAA,MAAA;AAzDA,CAAA,EAAA;;AAAa,OAAA,CAAA,MAAA,GAAA,MAAA;;;;;;;;;;;;;;ACIb,QAAA,CAAA,OAAA,CAAA,UAAA,CAAA,CAAA;;;;;;;;ACRA,IAAA,eAAA,GAAA,OAAA,CAAA,yBAAA,CAAA;;AAEa,OAAA,CAAA,cAAA,GAAiB,UAAC,MAAD,EAAkB,CAAlB,EAA0B;AACtD,OAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,MAAM,CAAC,MAA3B,EAAmC,CAAC,EAApC,EAAwC;AACtC,QAAM,CAAC,GAAG,MAAM,CAAC,CAAD,CAAhB;AACA,QAAI,CAAC,GAAA,KAAA,CAAL;;AACA,QAAI,CAAC,KAAK,MAAM,CAAC,MAAP,GAAgB,CAA1B,EAA6B;AAC3B,MAAA,CAAC,GAAG,MAAM,CAAC,CAAD,CAAV;AACD,KAFD,MAEO;AACL,MAAA,CAAC,GAAG,MAAM,CAAC,CAAC,GAAG,CAAL,CAAV;AACD;;AACD,QAAM,CAAC,GAAG,IAAI,eAAA,CAAA,QAAJ,CAAa,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAArB,EAAwB,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAAhC,CAAV;AACA,QAAM,CAAC,GAAG,IAAI,eAAA,CAAA,QAAJ,CAAa,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAArB,EAAwB,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAAhC,CAAV;AACA,QAAM,CAAC,GAAG,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAAR,GAAY,CAAC,CAAC,CAAF,GAAM,CAAC,CAAC,CAA9B;;AAEA,QAAI,CAAC,IAAI,CAAT,EAAY;AACV,aAAO,KAAP;AACD;AACF;;AACD,SAAO,IAAP;AACD,CAlBY;;;;;;;;ACFb,IAAA,SAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AAEA,IAAA,gBAAA,GAAA,OAAA,CAAA,kBAAA,CAAA;;AAGA,IAAA,QAAA;AAAA;AAAA,YAAA;AAGE,WAAA,QAAA,CACS,MADT,EAES,MAFT,EAGS,MAHT,EAGsB;AAFb,SAAA,MAAA,GAAA,MAAA;AACA,SAAA,MAAA,GAAA,MAAA;AACA,SAAA,MAAA,GAAA,MAAA;AALF,SAAA,KAAA,GAAoB,UAApB;AAMH;;AAEJ,EAAA,QAAA,CAAA,SAAA,CAAA,OAAA,GAAA,UAAQ,KAAR,EAA6B;AAC3B,QAAI,KAAK,CAAC,KAAN,KAAgB,UAApB,EAAgC;AAC9B,aAAO,KAAK,mBAAL,CAAyB,KAAzB,CAAP;AACD,KAFD,MAEO,IAAI,KAAK,CAAC,KAAN,KAAgB,SAApB,EAA+B;AACpC,aAAO,KAAK,kBAAL,CAAwB,KAAxB,CAAP;AACD,KAFM,MAEA,IAAI,KAAK,CAAC,KAAN,IAAe,QAAnB,EAA6B;AAClC,aAAO,KAAK,iBAAL,CAAuB,KAAvB,CAAP;AACD;;AACD,WAAO,KAAP;AACD,GATD;;AAWA,EAAA,MAAA,CAAA,cAAA,CAAI,QAAA,CAAA,SAAJ,EAAI,QAAJ,EAAU;SAAV,eAAA;AACE,aAAO,CAAC,KAAK,MAAN,EAAc,KAAK,MAAnB,EAA2B,KAAK,MAAhC,CAAP;AACD,KAFS;oBAAA;;AAAA,GAAV;AAIA,EAAA,MAAA,CAAA,cAAA,CAAI,QAAA,CAAA,SAAJ,EAAI,UAAJ,EAAY;SAAZ,eAAA;AACE,aAAO,CACL,IAAI,SAAA,CAAA,OAAJ,CAAY,KAAK,MAAjB,EAAyB,KAAK,MAA9B,CADK,EAEL,IAAI,SAAA,CAAA,OAAJ,CAAY,KAAK,MAAjB,EAAyB,KAAK,MAA9B,CAFK,EAGL,IAAI,SAAA,CAAA,OAAJ,CAAY,KAAK,MAAjB,EAAyB,KAAK,MAA9B,CAHK,CAAP;AAKD,KANW;oBAAA;;AAAA,GAAZ;;AAQA,EAAA,QAAA,CAAA,SAAA,CAAA,iBAAA,GAAA,UAAkB,KAAlB,EAA6C;AAC3C,QAAI,gBAAA,CAAA,cAAA,CAAe,KAAK,MAApB,EAA4B,IAAI,SAAA,CAAA,KAAJ,CAAU,KAAK,CAAC,CAAhB,EAAmB,KAAK,CAAC,CAAzB,CAA5B,CAAJ,EAA8D;AAC5D,aAAO,IAAP;AACD;;AACD,SAAsB,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,KAAK,QAA3B,EAAsB,EAAA,GAAA,EAAA,CAAA,MAAtB,EAAsB,EAAA,EAAtB,EAAqC;AAAhC,UAAM,OAAO,GAAA,EAAA,CAAA,EAAA,CAAb;;AACH,UAAI,KAAK,CAAC,OAAN,CAAc,OAAd,CAAJ,EAA4B;AAC1B,eAAO,IAAP;AACD;AACF;;AACD,WAAO,KAAP;AACD,GAVD;;AAYA,EAAA,QAAA,CAAA,SAAA,CAAA,kBAAA,GAAA,UAAmB,KAAnB,EAA+C;AAC7C,QAAI,gBAAA,CAAA,cAAA,CAAe,KAAK,MAApB,EAA4B,KAAK,CAAC,MAAlC,CAAJ,EAA+C;AAC7C,aAAO,IAAP;AACD,KAFD,MAEO,IAAI,gBAAA,CAAA,cAAA,CAAe,KAAK,MAApB,EAA4B,KAAK,CAAC,MAAlC,CAAJ,EAA+C;AACpD,aAAO,IAAP;AACD;;AAED,SAAwB,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,KAAK,QAA7B,EAAwB,EAAA,GAAA,EAAA,CAAA,MAAxB,EAAwB,EAAA,EAAxB,EAAuC;AAAlC,UAAM,SAAS,GAAA,EAAA,CAAA,EAAA,CAAf;;AACH,UAAI,KAAK,CAAC,OAAN,CAAc,SAAd,CAAJ,EAA8B;AAC5B,eAAO,IAAP;AACD;AACF;;AACD,WAAO,KAAP;AACD,GAbD;;AAeA,EAAA,QAAA,CAAA,SAAA,CAAA,mBAAA,GAAA,UAAoB,KAApB,EAAiD;AAC/C,SAAwB,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,KAAK,CAAC,MAA9B,EAAwB,EAAA,GAAA,EAAA,CAAA,MAAxB,EAAwB,EAAA,EAAxB,EAAsC;AAAjC,UAAM,SAAS,GAAA,EAAA,CAAA,EAAA,CAAf;;AACH,UAAI,gBAAA,CAAA,cAAA,CAAe,KAAK,MAApB,EAA4B,SAA5B,CAAJ,EAA4C;AAC1C,eAAO,IAAP;AACD;AACF;;AACD,SAAwB,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,KAAK,QAA7B,EAAwB,EAAA,GAAA,EAAA,CAAA,MAAxB,EAAwB,EAAA,EAAxB,EAAuC;AAAlC,UAAM,SAAS,GAAA,EAAA,CAAA,EAAA,CAAf;;AACH,WAA2B,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,KAAK,CAAC,QAAjC,EAA2B,EAAA,GAAA,EAAA,CAAA,MAA3B,EAA2B,EAAA,EAA3B,EAA2C;AAAtC,YAAM,YAAY,GAAA,EAAA,CAAA,EAAA,CAAlB;;AACH,YAAI,SAAS,CAAC,kBAAV,CAA6B,YAA7B,CAAJ,EAAgD;AAC9C,iBAAO,IAAP;AACD;AACF;AACF;;AACD,WAAO,KAAP;AACD,GAdD;;AAeF,SAAA,QAAA;AA1EA,CAAA,EAAA;;AAAa,OAAA,CAAA,QAAA,GAAA,QAAA;;;;;;;;;;;;;;ACMb,QAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;;;;;;;;;;;;;;ACPA,QAAA,CAAA,OAAA,CAAA,aAAA,CAAA,CAAA;;AACA,QAAA,CAAA,OAAA,CAAA,UAAA,CAAA,CAAA;;AACA,QAAA,CAAA,OAAA,CAAA,WAAA,CAAA,CAAA;;AACA,QAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;;;;;;;;ACRA,IAAA,QAAA,GAAA,OAAA,CAAA,QAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,SAAA,CAAA;;AACA,IAAA,KAAA,GAAA,OAAA,CAAA,QAAA,CAAA;;AACA,IAAA,KAAA,GAAA,OAAA,CAAA,QAAA,CAAA;;AAGA,IAAM,IAAI,GAAG,QAAQ,CAAC,cAAT,CAAwB,MAAxB,CAAb;AACA,IAAM,MAAM,GAAG,QAAA,CAAA,YAAA,CAAa;AAAE,EAAA,MAAM,EAAE,GAAV;AAAe,EAAA,KAAK,EAAE;AAAtB,CAAb,CAAf;;AAEA,IAAI,IAAJ,EAAU;AACR,EAAA,IAAI,CAAC,SAAL,GAAiB,EAAjB;AACA,EAAA,IAAI,CAAC,WAAL,CAAiB,MAAM,CAAC,QAAxB;AACD;;AAED,IAAM,KAAK,GAAG,IAAI,OAAA,CAAA,eAAJ,CAAoB,MAAM,CAAC,QAAP,CAAgB,qBAAhB,EAApB,CAAd;AAEA,IAAM,OAAO,GAA2C,CACtD,MAAM,CAAC,MAAP,CAAc,IAAI,KAAA,CAAA,SAAJ,CAAc,EAAd,EAAkB,EAAlB,EAAsB,GAAtB,EAA2B,GAA3B,CAAd,EAA+C;AAAE,EAAA,KAAK,EAAE;AAAT,CAA/C,CADsD,EAEtD,MAAM,CAAC,MAAP,CAAc,IAAI,KAAA,CAAA,OAAJ,CAAY,IAAI,KAAA,CAAA,KAAJ,CAAU,GAAV,EAAe,EAAf,CAAZ,EAAgC,IAAI,KAAA,CAAA,KAAJ,CAAU,GAAV,EAAe,GAAf,CAAhC,CAAd,EAAoE;AAClE,EAAA,KAAK,EAAE;AAD2D,CAApE,CAFsD,EAKtD,MAAM,CAAC,MAAP,CAAc,IAAI,KAAA,CAAA,MAAJ,CAAW,EAAX,EAAe,EAAf,EAAmB,EAAnB,CAAd,EAAsC;AAAE,EAAA,KAAK,EAAE;AAAT,CAAtC,CALsD,EAMtD,MAAM,CAAC,MAAP,CACE,IAAI,KAAA,CAAA,QAAJ,CAAa,IAAI,KAAA,CAAA,KAAJ,CAAU,GAAV,EAAe,GAAf,CAAb,EAAkC,IAAI,KAAA,CAAA,KAAJ,CAAU,EAAV,EAAc,GAAd,CAAlC,EAAsD,IAAI,KAAA,CAAA,KAAJ,CAAU,GAAV,EAAe,GAAf,CAAtD,CADF,EAEE;AAAE,EAAA,KAAK,EAAE;AAAT,CAFF,CANsD,CAAxD;AAYA,IAAI,aAAa,GAAG,OAApB,EACA;AACA;AACA;;AACA,IAAM,QAAQ,GAAG,IAAI,KAAA,CAAA,QAAJ,CAAa,IAAI,KAAA,CAAA,KAAJ,CAAU,CAAV,EAAa,CAAb,CAAb,EAA8B,IAAI,KAAA,CAAA,KAAJ,CAAU,CAAV,EAAa,CAAb,CAA9B,EAA+C,IAAI,KAAA,CAAA,KAAJ,CAAU,CAAV,EAAa,CAAb,CAA/C,CAAjB,EACA;AAEA;AACA;AACA;AACA;;AAEA,MAAM,CAAC,MAAP,GAAgB,YAAA;AACd;AACA;AACA;AACA;AAEA,EAAA,QAAQ,CAAC,MAAT,CAAgB,CAAhB,GAAoB,KAAK,CAAC,CAA1B;AACA,EAAA,QAAQ,CAAC,MAAT,CAAgB,CAAhB,GAAoB,KAAK,CAAC,CAA1B;AACA,EAAA,QAAQ,CAAC,MAAT,CAAgB,CAAhB,GAAoB,KAAK,CAAC,CAAN,GAAU,EAA9B;AACA,EAAA,QAAQ,CAAC,MAAT,CAAgB,CAAhB,GAAoB,KAAK,CAAC,CAAN,GAAU,EAA9B;AACA,EAAA,QAAQ,CAAC,MAAT,CAAgB,CAAhB,GAAoB,KAAK,CAAC,CAAN,GAAU,EAA9B;AACA,EAAA,QAAQ,CAAC,MAAT,CAAgB,CAAhB,GAAoB,KAAK,CAAC,CAAN,GAAU,EAA9B;AAEA,MAAI,UAAU,GAAG,KAAjB;;AACA,OAAmB,IAAA,EAAA,GAAA,CAAA,EAAA,SAAA,GAAA,OAAnB,EAAmB,EAAA,GAAA,SAAA,CAAA,MAAnB,EAAmB,EAAA,EAAnB,EAA4B;AAAvB,QAAM,IAAI,GAAA,SAAA,CAAA,EAAA,CAAV;;AACH,QAAI,IAAI,CAAC,OAAL,CAAa,QAAb,CAAJ,EAA4B;AAC1B,MAAA,aAAa,GAAG,IAAI,CAAC,KAArB;AACA,MAAA,UAAU,GAAG,IAAb;AACD;AACF;;AACD,MAAI,UAAU,KAAK,KAAnB,EAA0B;AACxB,IAAA,aAAa,GAAG,OAAhB;AACD;AACF,CAvBD;;AAyBA,MAAM,CAAC,MAAP,GAAgB,YAAA;AACd,EAAA,MAAM,CAAC,KAAP;AACA,EAAA,MAAM,CAAC,UAAP,CAAkB,OAAlB;AAEA,EAAA,OAAO,CAAC,OAAR,CAAgB,UAAC,IAAD,EAAK;AACnB,QAAI,IAAI,CAAC,KAAL,KAAe,WAAnB,EAAgC;AAC9B,MAAA,MAAM,CAAC,IAAP,CAAY,IAAZ;AACD,KAFD,MAEO,IAAI,IAAI,CAAC,KAAL,KAAe,SAAnB,EAA8B;AACnC,MAAA,MAAM,CAAC,IAAP,CAAY;AACV,QAAA,EAAE,EAAE,IAAI,CAAC,MAAL,CAAY,CADN;AAEV,QAAA,EAAE,EAAE,IAAI,CAAC,MAAL,CAAY,CAFN;AAGV,QAAA,EAAE,EAAE,IAAI,CAAC,MAAL,CAAY,CAHN;AAIV,QAAA,EAAE,EAAE,IAAI,CAAC,MAAL,CAAY,CAJN;AAKV,QAAA,KAAK,EAAE,IAAI,CAAC;AALF,OAAZ;AAOD,KARM,MAQA,IAAI,IAAI,CAAC,KAAL,KAAe,QAAnB,EAA6B;AAClC,MAAA,MAAM,CAAC,MAAP,CAAc,IAAd;AACD,KAFM,MAEA,IAAI,IAAI,CAAC,KAAL,KAAe,UAAnB,EAA+B;AACpC,MAAA,MAAM,CAAC,QAAP,CAAgB;AACd,QAAA,EAAE,EAAE,IAAI,CAAC,MAAL,CAAY,CADF;AAEd,QAAA,EAAE,EAAE,IAAI,CAAC,MAAL,CAAY,CAFF;AAGd,QAAA,EAAE,EAAE,IAAI,CAAC,MAAL,CAAY,CAHF;AAId,QAAA,EAAE,EAAE,IAAI,CAAC,MAAL,CAAY,CAJF;AAKd,QAAA,EAAE,EAAE,IAAI,CAAC,MAAL,CAAY,CALF;AAMd,QAAA,EAAE,EAAE,IAAI,CAAC,MAAL,CAAY,CANF;AAOd,QAAA,KAAK,EAAE,IAAI,CAAC;AAPE,OAAhB;AASD;AACF,GAxBD,EAJc,CA6Bd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,EAAA,MAAM,CAAC,QAAP,CAAgB;AACd,IAAA,EAAE,EAAE,QAAQ,CAAC,MAAT,CAAgB,CADN;AAEd,IAAA,EAAE,EAAE,QAAQ,CAAC,MAAT,CAAgB,CAFN;AAGd,IAAA,EAAE,EAAE,QAAQ,CAAC,MAAT,CAAgB,CAHN;AAId,IAAA,EAAE,EAAE,QAAQ,CAAC,MAAT,CAAgB,CAJN;AAKd,IAAA,EAAE,EAAE,QAAQ,CAAC,MAAT,CAAgB,CALN;AAMd,IAAA,EAAE,EAAE,QAAQ,CAAC,MAAT,CAAgB,CANN;AAOd,IAAA,KAAK,EAAE;AAPO,GAAhB;AASD,CArDD;;AAuDA,MAAM,CAAC,KAAP;;;ACxHA,IAAIA,UAAU,GAAG,4BAAjB;AAEA,IAAIC,SAAS,GAAGC,MAAM,CAACC,MAAP,CAAcC,MAA9B;;AAEA,SAASA,MAAT,CAAgBC,UAAhB,EAA4B;AAC1BJ,EAAAA,SAAS,CAACK,IAAV,CAAe,IAAf,EAAqBD,UAArB;AACA,OAAKE,GAAL,GAAW;AACTC,IAAAA,IAAI,EAAEN,MAAM,CAACC,MAAP,CAAcM,OADX;AAETC,IAAAA,gBAAgB,EAAE,EAFT;AAGTC,IAAAA,iBAAiB,EAAE,EAHV;AAITC,IAAAA,MAAM,EAAE,UAAUC,EAAV,EAAc;AACpB,WAAKH,gBAAL,CAAsBI,IAAtB,CAA2BD,EAAE,IAAI,YAAY,CAAE,CAA/C;AACD,KANQ;AAOTE,IAAAA,OAAO,EAAE,UAAUF,EAAV,EAAc;AACrB,WAAKF,iBAAL,CAAuBG,IAAvB,CAA4BD,EAA5B;AACD;AATQ,GAAX;AAYAX,EAAAA,MAAM,CAACC,MAAP,CAAcM,OAAd,GAAwB,IAAxB;AACD;;AAEDP,MAAM,CAACC,MAAP,CAAcC,MAAd,GAAuBA,MAAvB;AACA,IAAIY,aAAJ,EAAmBC,cAAnB;AAEA,IAAIC,MAAM,GAAGhB,MAAM,CAACC,MAAP,CAAce,MAA3B;;AACA,IAAI,CAAC,CAACA,MAAD,IAAW,CAACA,MAAM,CAACC,eAApB,KAAwC,OAAOC,SAAP,KAAqB,WAAjE,EAA8E;AAC5E,MAAIC,QAAQ,GAAG,MAA4BC,QAAQ,CAACD,QAApD;AACA,MAAIE,QAAQ,GAAGD,QAAQ,CAACC,QAAT,KAAsB,QAAtB,GAAiC,KAAjC,GAAyC,IAAxD;AACA,MAAIC,EAAE,GAAG,IAAIJ,SAAJ,CAAcG,QAAQ,GAAG,KAAX,GAAmBF,QAAnB,GAA8B,GAA9B,YAA2D,GAAzE,CAAT;;AACAG,EAAAA,EAAE,CAACC,SAAH,GAAe,UAASC,KAAT,EAAgB;AAC7BV,IAAAA,aAAa,GAAG,EAAhB;AACAC,IAAAA,cAAc,GAAG,EAAjB;AAEA,QAAIT,IAAI,GAAGmB,IAAI,CAACC,KAAL,CAAWF,KAAK,CAAClB,IAAjB,CAAX;;AAEA,QAAIA,IAAI,CAACqB,IAAL,KAAc,QAAlB,EAA4B;AAC1B,UAAIC,OAAO,GAAG,KAAd;AACAtB,MAAAA,IAAI,CAACuB,MAAL,CAAYC,OAAZ,CAAoB,UAASC,KAAT,EAAgB;AAClC,YAAI,CAACA,KAAK,CAACC,KAAX,EAAkB;AAChB,cAAIC,SAAS,GAAGC,cAAc,CAACC,MAAM,CAACC,aAAR,EAAuBL,KAAK,CAACM,EAA7B,CAA9B;;AACA,cAAIJ,SAAJ,EAAe;AACbL,YAAAA,OAAO,GAAG,IAAV;AACD;AACF;AACF,OAPD,EAF0B,CAW1B;;AACAA,MAAAA,OAAO,GAAGA,OAAO,IAAItB,IAAI,CAACuB,MAAL,CAAYS,KAAZ,CAAkB,UAASP,KAAT,EAAgB;AACrD,eAAOA,KAAK,CAACJ,IAAN,KAAe,KAAf,IAAwBI,KAAK,CAACQ,SAAN,CAAgBC,EAA/C;AACD,OAFoB,CAArB;;AAIA,UAAIZ,OAAJ,EAAa;AACXa,QAAAA,OAAO,CAACC,KAAR;AAEApC,QAAAA,IAAI,CAACuB,MAAL,CAAYC,OAAZ,CAAoB,UAAUC,KAAV,EAAiB;AACnCY,UAAAA,QAAQ,CAACR,MAAM,CAACC,aAAR,EAAuBL,KAAvB,CAAR;AACD,SAFD;AAIAhB,QAAAA,cAAc,CAACe,OAAf,CAAuB,UAAUc,CAAV,EAAa;AAClCC,UAAAA,YAAY,CAACD,CAAC,CAAC,CAAD,CAAF,EAAOA,CAAC,CAAC,CAAD,CAAR,CAAZ;AACD,SAFD;AAGD,OAVD,MAUO;AACLE,QAAAA,MAAM,CAAC1B,QAAP,CAAgB2B,MAAhB;AACD;AACF;;AAED,QAAIzC,IAAI,CAACqB,IAAL,KAAc,QAAlB,EAA4B;AAC1BL,MAAAA,EAAE,CAAC0B,KAAH;;AACA1B,MAAAA,EAAE,CAAC2B,OAAH,GAAa,YAAY;AACvB7B,QAAAA,QAAQ,CAAC2B,MAAT;AACD,OAFD;AAGD;;AAED,QAAIzC,IAAI,CAACqB,IAAL,KAAc,gBAAlB,EAAoC;AAClCc,MAAAA,OAAO,CAACS,GAAR,CAAY,2BAAZ;AAEAC,MAAAA,kBAAkB;AACnB;;AAED,QAAI7C,IAAI,CAACqB,IAAL,KAAc,OAAlB,EAA2B;AACzBc,MAAAA,OAAO,CAACW,KAAR,CAAc,kBAAkB9C,IAAI,CAAC8C,KAAL,CAAWC,OAA7B,GAAuC,IAAvC,GAA8C/C,IAAI,CAAC8C,KAAL,CAAWE,KAAvE;AAEAH,MAAAA,kBAAkB;AAElB,UAAII,OAAO,GAAGC,kBAAkB,CAAClD,IAAD,CAAhC;AACAmD,MAAAA,QAAQ,CAACC,IAAT,CAAcC,WAAd,CAA0BJ,OAA1B;AACD;AACF,GA1DD;AA2DD;;AAED,SAASJ,kBAAT,GAA8B;AAC5B,MAAII,OAAO,GAAGE,QAAQ,CAACG,cAAT,CAAwB9D,UAAxB,CAAd;;AACA,MAAIyD,OAAJ,EAAa;AACXA,IAAAA,OAAO,CAACM,MAAR;AACD;AACF;;AAED,SAASL,kBAAT,CAA4BlD,IAA5B,EAAkC;AAChC,MAAIiD,OAAO,GAAGE,QAAQ,CAACK,aAAT,CAAuB,KAAvB,CAAd;AACAP,EAAAA,OAAO,CAAClB,EAAR,GAAavC,UAAb,CAFgC,CAIhC;;AACA,MAAIuD,OAAO,GAAGI,QAAQ,CAACK,aAAT,CAAuB,KAAvB,CAAd;AACA,MAAIC,UAAU,GAAGN,QAAQ,CAACK,aAAT,CAAuB,KAAvB,CAAjB;AACAT,EAAAA,OAAO,CAACW,SAAR,GAAoB1D,IAAI,CAAC8C,KAAL,CAAWC,OAA/B;AACAU,EAAAA,UAAU,CAACC,SAAX,GAAuB1D,IAAI,CAAC8C,KAAL,CAAWE,KAAlC;AAEAC,EAAAA,OAAO,CAACU,SAAR,GACE,2NACE,mFADF,GAEE,yEAFF,GAGE,qEAHF,GAG0EZ,OAAO,CAACY,SAHlF,GAG8F,QAH9F,GAIE,OAJF,GAIYF,UAAU,CAACE,SAJvB,GAImC,QAJnC,GAKA,QANF;AASA,SAAOV,OAAP;AAED;;AAED,SAASW,UAAT,CAAoBjE,MAApB,EAA4BoC,EAA5B,EAAgC;AAC9B,MAAI8B,OAAO,GAAGlE,MAAM,CAACkE,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ,WAAO,EAAP;AACD;;AAED,MAAIC,OAAO,GAAG,EAAd;AACA,MAAIC,CAAJ,EAAOC,CAAP,EAAUC,GAAV;;AAEA,OAAKF,CAAL,IAAUF,OAAV,EAAmB;AACjB,SAAKG,CAAL,IAAUH,OAAO,CAACE,CAAD,CAAP,CAAW,CAAX,CAAV,EAAyB;AACvBE,MAAAA,GAAG,GAAGJ,OAAO,CAACE,CAAD,CAAP,CAAW,CAAX,EAAcC,CAAd,CAAN;;AACA,UAAIC,GAAG,KAAKlC,EAAR,IAAemC,KAAK,CAACC,OAAN,CAAcF,GAAd,KAAsBA,GAAG,CAACA,GAAG,CAACG,MAAJ,GAAa,CAAd,CAAH,KAAwBrC,EAAjE,EAAsE;AACpE+B,QAAAA,OAAO,CAACxD,IAAR,CAAayD,CAAb;AACD;AACF;AACF;;AAED,MAAIpE,MAAM,CAACe,MAAX,EAAmB;AACjBoD,IAAAA,OAAO,GAAGA,OAAO,CAACO,MAAR,CAAeT,UAAU,CAACjE,MAAM,CAACe,MAAR,EAAgBqB,EAAhB,CAAzB,CAAV;AACD;;AAED,SAAO+B,OAAP;AACD;;AAED,SAASzB,QAAT,CAAkB1C,MAAlB,EAA0B8B,KAA1B,EAAiC;AAC/B,MAAIoC,OAAO,GAAGlE,MAAM,CAACkE,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ;AACD;;AAED,MAAIA,OAAO,CAACpC,KAAK,CAACM,EAAP,CAAP,IAAqB,CAACpC,MAAM,CAACe,MAAjC,EAAyC;AACvC,QAAIL,EAAE,GAAG,IAAIiE,QAAJ,CAAa,SAAb,EAAwB,QAAxB,EAAkC,SAAlC,EAA6C7C,KAAK,CAACQ,SAAN,CAAgBC,EAA7D,CAAT;AACAT,IAAAA,KAAK,CAACC,KAAN,GAAc,CAACmC,OAAO,CAACpC,KAAK,CAACM,EAAP,CAAtB;AACA8B,IAAAA,OAAO,CAACpC,KAAK,CAACM,EAAP,CAAP,GAAoB,CAAC1B,EAAD,EAAKoB,KAAK,CAAC8C,IAAX,CAApB;AACD,GAJD,MAIO,IAAI5E,MAAM,CAACe,MAAX,EAAmB;AACxB2B,IAAAA,QAAQ,CAAC1C,MAAM,CAACe,MAAR,EAAgBe,KAAhB,CAAR;AACD;AACF;;AAED,SAASG,cAAT,CAAwBjC,MAAxB,EAAgCoC,EAAhC,EAAoC;AAClC,MAAI8B,OAAO,GAAGlE,MAAM,CAACkE,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ;AACD;;AAED,MAAI,CAACA,OAAO,CAAC9B,EAAD,CAAR,IAAgBpC,MAAM,CAACe,MAA3B,EAAmC;AACjC,WAAOkB,cAAc,CAACjC,MAAM,CAACe,MAAR,EAAgBqB,EAAhB,CAArB;AACD;;AAED,MAAIvB,aAAa,CAACuB,EAAD,CAAjB,EAAuB;AACrB;AACD;;AACDvB,EAAAA,aAAa,CAACuB,EAAD,CAAb,GAAoB,IAApB;AAEA,MAAIyC,MAAM,GAAG7E,MAAM,CAAC8E,KAAP,CAAa1C,EAAb,CAAb;AAEAtB,EAAAA,cAAc,CAACH,IAAf,CAAoB,CAACX,MAAD,EAASoC,EAAT,CAApB;;AAEA,MAAIyC,MAAM,IAAIA,MAAM,CAACzE,GAAjB,IAAwByE,MAAM,CAACzE,GAAP,CAAWG,gBAAX,CAA4BkE,MAAxD,EAAgE;AAC9D,WAAO,IAAP;AACD;;AAED,SAAOR,UAAU,CAAC/B,MAAM,CAACC,aAAR,EAAuBC,EAAvB,CAAV,CAAqC2C,IAArC,CAA0C,UAAU3C,EAAV,EAAc;AAC7D,WAAOH,cAAc,CAACC,MAAM,CAACC,aAAR,EAAuBC,EAAvB,CAArB;AACD,GAFM,CAAP;AAGD;;AAED,SAASQ,YAAT,CAAsB5C,MAAtB,EAA8BoC,EAA9B,EAAkC;AAChC,MAAIyC,MAAM,GAAG7E,MAAM,CAAC8E,KAAP,CAAa1C,EAAb,CAAb;AACApC,EAAAA,MAAM,CAACM,OAAP,GAAiB,EAAjB;;AACA,MAAIuE,MAAJ,EAAY;AACVA,IAAAA,MAAM,CAACzE,GAAP,CAAWC,IAAX,GAAkBL,MAAM,CAACM,OAAzB;AACD;;AAED,MAAIuE,MAAM,IAAIA,MAAM,CAACzE,GAAjB,IAAwByE,MAAM,CAACzE,GAAP,CAAWI,iBAAX,CAA6BiE,MAAzD,EAAiE;AAC/DI,IAAAA,MAAM,CAACzE,GAAP,CAAWI,iBAAX,CAA6BqB,OAA7B,CAAqC,UAAUmD,EAAV,EAAc;AACjDA,MAAAA,EAAE,CAAChF,MAAM,CAACM,OAAR,CAAF;AACD,KAFD;AAGD;;AAED,SAAON,MAAM,CAAC8E,KAAP,CAAa1C,EAAb,CAAP;AACApC,EAAAA,MAAM,CAACoC,EAAD,CAAN;AAEAyC,EAAAA,MAAM,GAAG7E,MAAM,CAAC8E,KAAP,CAAa1C,EAAb,CAAT;;AACA,MAAIyC,MAAM,IAAIA,MAAM,CAACzE,GAAjB,IAAwByE,MAAM,CAACzE,GAAP,CAAWG,gBAAX,CAA4BkE,MAAxD,EAAgE;AAC9DI,IAAAA,MAAM,CAACzE,GAAP,CAAWG,gBAAX,CAA4BsB,OAA5B,CAAoC,UAAUmD,EAAV,EAAc;AAChDA,MAAAA,EAAE;AACH,KAFD;;AAGA,WAAO,IAAP;AACD;AACF","file":"main.c39d6dcf.js","sourceRoot":"../playground","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * This class is used as a wrapper around the HTMLCanvasElement.\n */\nclass CanvasWrapper {\n    constructor(ops) {\n        this._width = ops.width;\n        this._height = ops.height;\n        this.canvasEl = document.createElement('canvas');\n        this.canvasEl.width = this._width;\n        this.canvasEl.height = this._height;\n        this.ctx = this.canvasEl.getContext('2d');\n    }\n    /**\n     * The width of the canvas (internal not css size)\n     */\n    get width() {\n        return this._width;\n    }\n    set width(val) {\n        this.canvasEl.width = val;\n        this._width = val;\n    }\n    /**\n     * The height of the canvas (internal not css size)\n     */\n    get height() {\n        return this._height;\n    }\n    set height(val) {\n        this.canvasEl.height = val;\n        this._height = val;\n    }\n}\nexports.CanvasWrapper = CanvasWrapper;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst CanvasWrapper_1 = require(\"./CanvasWrapper\");\n/**\n * This class is used to handle the update and render process.\n */\nclass CanvasLogic extends CanvasWrapper_1.CanvasWrapper {\n    constructor() {\n        super(...arguments);\n        /**\n         * lastTime keeps track of the last update (timestamp).\n         */\n        this.lastTime = 0;\n        /**\n         * rafRef keeps track of the requestAnimationFrame id.\n         */\n        this.rafRef = 0;\n        this.running = false;\n        /**\n         * Update is called before a render.\n         * Override it to implement your own logic.\n         * The delta is passed down, it's used to keep the updates sync with the framerate.\n         * Exemple:\n         * ```typescript\n         * update(delta) {\n         *  // `x` will be incremeted by 50 every second\n         *  x += 50 * delta\n         * }\n         * ```\n         */\n        this.update = (delta) => { };\n        /**\n         * Render is called after update.\n         * Override it to implement your own logic.\n         */\n        this.render = () => { };\n        this.main = () => {\n            if (this.running) {\n                if (this.lastTime === 0) {\n                    this.lastTime = Date.now();\n                }\n                const now = Date.now();\n                const delta = (now - this.lastTime) / 1000.0;\n                this.update(delta);\n                this.render();\n                this.lastTime = now;\n                this.rafRef = requestAnimationFrame(this.main);\n            }\n        };\n    }\n    /**\n     * Start the update and render loop.\n     */\n    start() {\n        this.running = true;\n        this.main();\n    }\n    /**\n     * Stop the update & render loop.\n     */\n    stop() {\n        this.running = false;\n        cancelAnimationFrame(this.rafRef);\n    }\n}\nexports.CanvasLogic = CanvasLogic;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst CanvasLogic_1 = require(\"./CanvasLogic\");\nconst DEFAULTS = {\n    color: 'black',\n    lineWidth: 1.0,\n    font: '10px Arial',\n    align: 'start',\n};\nclass CanvasDrawers extends CanvasLogic_1.CanvasLogic {\n    /**\n     * Draw a line.\n     */\n    line(ops) {\n        this.ctx.beginPath();\n        this.ctx.moveTo(ops.x1, ops.y1);\n        this.ctx.lineWidth = ops.lineWidth || DEFAULTS.lineWidth;\n        this.ctx.lineTo(ops.x2, ops.y2);\n        this.ctx.strokeStyle = ops.color || DEFAULTS.color;\n        this.ctx.stroke();\n        this.ctx.closePath();\n    }\n    /**\n     * Draw a rectangle.\n     */\n    rect(ops) {\n        this.ctx.beginPath();\n        this.ctx.lineWidth = ops.lineWidth || DEFAULTS.lineWidth;\n        this.ctx.rect(ops.x, ops.y, ops.width, ops.height);\n        if (ops.stroke) {\n            this.ctx.strokeStyle = ops.color || DEFAULTS.color;\n            this.ctx.stroke();\n        }\n        else {\n            this.ctx.fillStyle = ops.color || DEFAULTS.color;\n            this.ctx.fill();\n        }\n        this.ctx.closePath();\n    }\n    /**\n     * Draw a circle.\n     */\n    circle(ops) {\n        this.ctx.beginPath();\n        this.ctx.lineWidth = ops.lineWidth || DEFAULTS.lineWidth;\n        this.ctx.arc(ops.x, ops.y, ops.radius, 0, 2 * Math.PI);\n        if (ops.stroke) {\n            this.ctx.strokeStyle = ops.color || DEFAULTS.color;\n            this.ctx.stroke();\n        }\n        else {\n            this.ctx.fillStyle = ops.color || DEFAULTS.color;\n            this.ctx.fill();\n        }\n        this.ctx.closePath();\n    }\n    triangle(ops) {\n        this.ctx.beginPath();\n        this.ctx.lineWidth = ops.lineWidth || DEFAULTS.lineWidth;\n        this.ctx.moveTo(ops.x1, ops.y1);\n        this.ctx.lineTo(ops.x2, ops.y2);\n        this.ctx.lineTo(ops.x3, ops.y3);\n        this.ctx.lineTo(ops.x1, ops.y1);\n        if (ops.stroke) {\n            this.ctx.strokeStyle = ops.color || DEFAULTS.color;\n            this.ctx.stroke();\n        }\n        else {\n            this.ctx.fillStyle = ops.color || DEFAULTS.color;\n            this.ctx.fill();\n        }\n        this.ctx.closePath();\n    }\n    /**\n     * Set the background of the canvas to a color.\n     */\n    background(color) {\n        this.rect({\n            x: 0,\n            y: 0,\n            color,\n            height: this.height,\n            width: this.width,\n        });\n    }\n    /**\n     * Draw a text on the canvas.\n     */\n    text(ops) {\n        this.ctx.font = ops.font || DEFAULTS.font;\n        this.ctx.textAlign = ops.align || DEFAULTS.align;\n        this.ctx.lineWidth = ops.lineWidth || DEFAULTS.lineWidth;\n        if (ops.stroke) {\n            this.ctx.strokeStyle = ops.color || DEFAULTS.color;\n            this.ctx.strokeText(ops.text, ops.x, ops.y, ops.maxWidth);\n        }\n        else {\n            this.ctx.fillStyle = ops.color || DEFAULTS.color;\n            this.ctx.fillText(ops.text, ops.x, ops.y, ops.maxWidth);\n        }\n    }\n    /**\n     * Clear the whole canvas.\n     */\n    clear() {\n        this.ctx.clearRect(0, 0, this.width, this.height);\n    }\n}\nexports.CanvasDrawers = CanvasDrawers;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst CanvasDrawers_1 = require(\"./CanvasDrawers\");\nclass CanvasGroups extends CanvasDrawers_1.CanvasDrawers {\n    rotationGroup(fn, ops) {\n        this.ctx.save();\n        this.ctx.translate(ops.x, ops.y);\n        this.ctx.rotate(ops.rotation);\n        this.ctx.translate(-ops.x, -ops.y);\n        fn();\n        this.ctx.restore();\n    }\n    groupFn(instructions, groupFn) {\n        const addInstruction = (instruction) => this.groupFn([...instructions, instruction], groupFn);\n        return {\n            translate: (ops) => {\n                return addInstruction(() => this.ctx.translate(ops.x, ops.y));\n            },\n            rotate: (ops) => {\n                return addInstruction(() => this.ctx.rotate(ops.rotation));\n            },\n            scale: (ops) => {\n                return addInstruction(() => this.ctx.scale(ops.x, ops.y));\n            },\n            render: () => {\n                this.ctx.save();\n                for (const instruction of instructions) {\n                    instruction();\n                }\n                groupFn();\n                this.ctx.restore();\n            },\n        };\n    }\n    group(fn) {\n        return this.groupFn([], fn);\n    }\n}\nexports.CanvasGroups = CanvasGroups;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst CanvasGroups_1 = require(\"./CanvasGroups\");\nexports.loadImage = (url) => {\n    return new Promise((resolve) => {\n        const img = new Image();\n        img.src = url;\n        img.onload = () => {\n            resolve(img);\n        };\n    });\n};\nclass CanvasImage extends CanvasGroups_1.CanvasGroups {\n    image(ops) {\n        if (ops.imageX !== undefined &&\n            ops.imageY !== undefined &&\n            ops.imageWidth !== undefined &&\n            ops.ImageHeight !== undefined &&\n            ops.maxWidth !== undefined &&\n            ops.maxHeight !== undefined) {\n            this.ctx.drawImage(ops.image, ops.imageX, ops.imageY, ops.imageWidth, ops.ImageHeight, ops.x, ops.y, ops.maxWidth, ops.maxHeight);\n        }\n        else if (ops.maxWidth !== undefined && ops.maxHeight !== undefined) {\n            this.ctx.drawImage(ops.image, ops.x, ops.y, ops.maxWidth, ops.maxHeight);\n        }\n        else {\n            this.ctx.drawImage(ops.image, ops.x, ops.y);\n        }\n    }\n}\nexports.CanvasImage = CanvasImage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst CanvasImage_1 = require(\"./CanvasImage\");\nexports.loadImage = CanvasImage_1.loadImage;\nclass Vancas extends CanvasImage_1.CanvasImage {\n}\nexports.Vancas = Vancas;\n/**\n * Return a vancas instance.\n * Exemple:\n * ```typescript\n * const vancas = createVancas({ width: 500, height: 500 })\n *\n * document.body.appendChild(vancas.canvasEl)\n *\n * vancas.render = () => {\n *   vancas.clear()\n *   vancas.background('grey')\n * }\n *\n * vancas.start()\n * ```\n */\nexports.createVancas = (ops) => {\n    return new Vancas(ops);\n};\n","import { Vancas } from 'vancas'\n\nexport class MouseCalculator {\n  public x = 0\n  public y = 0\n\n  constructor(private rect: ClientRect | DOMRect) {\n    window.addEventListener('mousemove', this.handleMouve)\n    // window.addEventListener('click', this.handleMouve)\n    window.addEventListener('mousedown', this.handleClick)\n  }\n\n  destroy() {\n    window.removeEventListener('mousemove', this.handleMouve)\n    // window.removeEventListener('click', this.handleMouve)\n    window.removeEventListener('mousedown', this.handleClick)\n  }\n\n  private fn = () => {}\n\n  handleClick = () => {\n    this.fn()\n  }\n\n  onClick(fn: () => any) {\n    this.fn = fn\n  }\n\n  handleMouve = (event: MouseEvent) => {\n    this.x = event.clientX - this.rect.left\n    this.y = event.clientY - this.rect.top\n  }\n}\n","import { SegmentCollideElement } from '.'\nimport { CollideElement } from '..'\nimport { RectangleCollideElement } from '../rectangle'\n\nexport class Point {\n  constructor(public x: number, public y: number) {}\n}\n\nexport class Segment implements SegmentCollideElement {\n  public shape: 'segment' = 'segment'\n\n  constructor(public point1: Point, public point2: Point) {}\n\n  get length() {\n    return Math.sqrt(\n      (this.point1.x - this.point2.x) ** 2 +\n        (this.point1.y - this.point2.y) ** 2\n    )\n  }\n\n  collide(other: CollideElement): boolean {\n    if (other.shape === 'segment') {\n      const res = this.collideWithSegment(other)\n      if (res) {\n        return true\n      } else {\n        return false\n      }\n    } else if (other.shape === 'rectangle') {\n      return this.collideWithRectangle(other)\n    } else if (other.shape === 'circle') {\n      return other.collide(this)\n    } else if (other.shape === 'triangle') {\n      return other.collide(this)\n    }\n\n    console.error(\n      `collide(...) of ${JSON.stringify(\n        this\n      )} not implemented with ${JSON.stringify(other)}`\n    )\n    return false\n  }\n\n  collideWithRectangle(other: RectangleCollideElement) {\n    const point1InX =\n      this.point1.x > other.x && this.point1.x < other.x + other.width\n    const point1InY =\n      this.point1.y > other.y && this.point1.y < other.y + other.height\n\n    if (point1InX && point1InY) {\n      return true\n    }\n\n    const otherSegments = [\n      new Segment(\n        new Point(other.x, other.y),\n        new Point(other.x + other.width, other.y)\n      ),\n      new Segment(\n        new Point(other.x + other.width, other.y),\n        new Point(other.x + other.width, other.y + other.height)\n      ),\n      new Segment(\n        new Point(other.x + other.width, other.y + other.height),\n        new Point(other.x, other.y + other.height)\n      ),\n      new Segment(\n        new Point(other.x, other.y + other.height),\n        new Point(other.x, other.y)\n      ),\n    ]\n    for (const segment of otherSegments) {\n      const res = this.collideWithSegment(segment)\n      if (res) {\n        return true\n      }\n    }\n    return false\n  }\n\n  /** From stack overflow (lol) */\n  collideWithSegment(other: SegmentCollideElement) {\n    let s1_x = this.point2.x - this.point1.x\n    let s1_y = this.point2.y - this.point1.y\n    let s2_x = other.point2.x - other.point1.x\n    let s2_y = other.point2.y - other.point1.y\n\n    let s =\n      (-s1_y * (this.point1.x - other.point1.x) +\n        s1_x * (this.point1.y - other.point1.y)) /\n      (-s2_x * s1_y + s1_x * s2_y)\n    let t =\n      (s2_x * (this.point1.y - other.point1.y) -\n        s2_y * (this.point1.x - other.point1.x)) /\n      (-s2_x * s1_y + s1_x * s2_y)\n\n    if (s >= 0 && s <= 1 && t >= 0 && t <= 1) {\n      // Collision detected\n      let intX = this.point1.x + t * s1_x\n      let intY = this.point1.y + t * s1_y\n      return new Point(intX, intY)\n    }\n    return false\n  }\n}\n","import { BaseCollideElement } from '..'\nimport { Point } from './segment'\n\nexport interface SegmentCollideElement extends BaseCollideElement {\n  shape: 'segment'\n  point1: Point\n  point2: Point\n}\n\nexport * from './segment'\n","import { RectangleCollideElement } from '.'\nimport { CollideElement } from '..'\nimport { TriangleCollideElement } from '../triangle'\nimport { Segment, Point } from '../segment'\n\nexport class Rectangle implements RectangleCollideElement {\n  public shape: 'rectangle' = 'rectangle'\n\n  constructor(\n    public x: number,\n    public y: number,\n    public width: number,\n    public height: number\n  ) {}\n\n  collide(other: CollideElement): boolean {\n    if (other.shape === 'rectangle') {\n      return this.collideWithRectangle(other)\n    } else if (other.shape === 'segment') {\n      return other.collide(this)\n    } else if (other.shape === 'circle') {\n      return other.collide(this)\n    } else if (other.shape === 'triangle') {\n      return this.collideWithTriangle(other)\n    }\n    console.error(`collide(...) of ${this} not implemented with ${other}`)\n    return false\n  }\n\n  get segments() {\n    return [\n      new Segment(\n        new Point(this.x, this.y),\n        new Point(this.x + this.width, this.y)\n      ),\n      new Segment(\n        new Point(this.x + this.width, this.y),\n        new Point(this.x + this.width, this.y + this.height)\n      ),\n      new Segment(\n        new Point(this.x + this.width, this.y + this.height),\n        new Point(this.x, this.y + this.height)\n      ),\n      new Segment(\n        new Point(this.x, this.y + this.height),\n        new Point(this.x, this.y)\n      ),\n    ]\n  }\n\n  collideWithTriangle(other: TriangleCollideElement) {\n    for (const point of other.points) {\n      const falseRect: RectangleCollideElement = {\n        collide: () => false,\n        shape: 'rectangle',\n        x: point.x,\n        y: point.y,\n        height: 0,\n        width: 0,\n      }\n      if (this.collideWithRectangle(falseRect)) {\n        return true\n      }\n    }\n    for (const mySegment of this.segments) {\n      for (const otherSegment of other.segments) {\n        if (mySegment.collide(otherSegment)) {\n          return true\n        }\n      }\n    }\n    return false\n  }\n\n  collideWithRectangle(other: RectangleCollideElement) {\n    const collideInX =\n      this.x + this.width > other.x && this.x < other.x + other.width\n    const collideInY =\n      this.y + this.height > other.y && this.y < other.y + other.height\n\n    if (collideInX && collideInY) {\n      return true\n    } else {\n      return false\n    }\n  }\n}\n","import { BaseCollideElement } from '..'\n\nexport interface RectangleCollideElement extends BaseCollideElement {\n  x: number\n  y: number\n  width: number\n  height: number\n  shape: 'rectangle'\n}\n\nexport * from './rectangle'\n","import { CircleCollideElement } from '.'\nimport { SegmentCollideElement, Point } from '../segment'\n\nexport class Vector2D {\n  constructor(public x: number, public y: number) {}\n\n  static fromPoints(A: Point, B: Point) {\n    return new Vector2D(B.x - A.x, B.y - A.y)\n  }\n\n  dot(vector: Vector2D) {\n    return this.x * vector.x + this.y * vector.y\n  }\n\n  static mult(vector: Vector2D, scalar: number) {\n    return new Vector2D(vector.x * scalar, vector.y * scalar)\n  }\n}\n\nexport const circleSegment = (\n  circle: CircleCollideElement,\n  { point1: E, point2: L }: SegmentCollideElement\n) => {\n  // test if a point is inside\n  if ((E.x - circle.x) ** 2 + (E.y - circle.y) ** 2 <= circle.radius ** 2) {\n    return true\n  }\n\n  const C = new Point(circle.x, circle.y)\n  const r = circle.radius\n\n  const d = Vector2D.fromPoints(E, L)\n  const f = Vector2D.fromPoints(C, E)\n\n  let a = d.dot(d)\n  let b = 2 * f.dot(d)\n  let c = f.dot(f) - r * r\n\n  let discriminant = b * b - 4 * a * c\n\n  if (discriminant < 0) {\n    return false\n  } else {\n    discriminant = Math.sqrt(discriminant)\n\n    let t1 = (-b - discriminant) / (2 * a)\n    let t2 = (-b + discriminant) / (2 * a)\n\n    if (t1 >= 0 && t1 <= 1) {\n      return true\n    }\n    if (t2 >= 0 && t2 <= 1) {\n      return true\n    }\n    return false\n  }\n}\n","import { CircleCollideElement } from '.'\nimport { CollideElement } from '..'\nimport { RectangleCollideElement } from '..'\nimport { circleSegment } from './circleSegment'\n\nexport class Circle implements CircleCollideElement {\n  public shape: 'circle' = 'circle'\n\n  constructor(public x: number, public y: number, public radius: number) {}\n\n  collide(other: CollideElement): boolean {\n    if (other.shape === 'circle') {\n      return this.collideWithCircle(other)\n    } else if (other.shape === 'rectangle') {\n      return this.collideWithRectangle(other)\n    } else if (other.shape === 'segment') {\n      return circleSegment(this, other)\n    } else if (other.shape === 'triangle') {\n      return other.collide(this)\n    }\n    console.error(\n      `collide(...) of ${JSON.stringify(\n        this\n      )} not implemented with ${JSON.stringify(other)}`\n    )\n    return false\n  }\n\n  collideWithRectangle(other: RectangleCollideElement) {\n    const circleDistance = {\n      x: Math.abs(this.x - (other.x + other.width / 2)),\n      y: Math.abs(this.y - (other.y + other.height / 2)),\n    }\n\n    if (circleDistance.x > other.width / 2 + this.radius) {\n      return false\n    }\n    if (circleDistance.y > other.height / 2 + this.radius) {\n      return false\n    }\n    if (circleDistance.x <= other.width / 2) {\n      return true\n    }\n    if (circleDistance.y <= other.height / 2) {\n      return true\n    }\n    const cornerDistanceSq =\n      (circleDistance.x - other.width / 2) ** 2 +\n      (circleDistance.y - other.height / 2) ** 2\n    return cornerDistanceSq <= this.radius ** 2\n  }\n\n  collideWithCircle(other: CircleCollideElement) {\n    if (\n      (other.x - this.x) ** 2 + (other.y - this.y) ** 2 <=\n      (other.radius + this.radius) ** 2\n    ) {\n      return true\n    } else {\n      return false\n    }\n  }\n}\n","import { BaseCollideElement } from '..'\n\nexport interface CircleCollideElement extends BaseCollideElement {\n  x: number\n  y: number\n  radius: number\n  shape: 'circle'\n}\n\nexport * from './circle'\n","import { Point } from '../segment'\nimport { Vector2D } from '../circle/circleSegment'\n\nexport const pointInPolygon = (points: Point[], P: Point) => {\n  for (let i = 0; i < points.length; i++) {\n    const A = points[i]\n    let B\n    if (i === points.length - 1) {\n      B = points[0]\n    } else {\n      B = points[i + 1]\n    }\n    const D = new Vector2D(B.x - A.x, B.y - A.y)\n    const T = new Vector2D(P.x - A.x, P.y - A.y)\n    const d = D.x * T.y - D.y * T.x\n\n    if (d <= 0) {\n      return false\n    }\n  }\n  return true\n}\n","import { TriangleCollideElement } from '.'\nimport { Point, Segment, SegmentCollideElement } from '../segment'\nimport { CollideElement } from '..'\nimport { pointInPolygon } from './pointInPolygon'\nimport { CircleCollideElement } from '../circle'\n\nexport class Triangle implements TriangleCollideElement {\n  public shape: 'triangle' = 'triangle'\n\n  constructor(\n    public point1: Point,\n    public point2: Point,\n    public point3: Point\n  ) {}\n\n  collide(other: CollideElement): boolean {\n    if (other.shape === 'triangle') {\n      return this.collideWithTriangle(other)\n    } else if (other.shape === 'segment') {\n      return this.collideWithSegment(other)\n    } else if (other.shape == 'circle') {\n      return this.collideWithCircle(other)\n    }\n    return false\n  }\n\n  get points() {\n    return [this.point1, this.point3, this.point2]\n  }\n\n  get segments() {\n    return [\n      new Segment(this.point1, this.point2),\n      new Segment(this.point2, this.point3),\n      new Segment(this.point3, this.point1),\n    ]\n  }\n\n  collideWithCircle(other: CircleCollideElement) {\n    if (pointInPolygon(this.points, new Point(other.x, other.y))) {\n      return true\n    }\n    for (const segment of this.segments) {\n      if (other.collide(segment)) {\n        return true\n      }\n    }\n    return false\n  }\n\n  collideWithSegment(other: SegmentCollideElement) {\n    if (pointInPolygon(this.points, other.point1)) {\n      return true\n    } else if (pointInPolygon(this.points, other.point2)) {\n      return true\n    }\n\n    for (const mySegment of this.segments) {\n      if (other.collide(mySegment)) {\n        return true\n      }\n    }\n    return false\n  }\n\n  collideWithTriangle(other: TriangleCollideElement) {\n    for (const othePoint of other.points) {\n      if (pointInPolygon(this.points, othePoint)) {\n        return true\n      }\n    }\n    for (const mySegment of this.segments) {\n      for (const otherSegment of other.segments) {\n        if (mySegment.collideWithSegment(otherSegment)) {\n          return true\n        }\n      }\n    }\n    return false\n  }\n}\n","import { BaseCollideElement, Point } from '..'\nimport { Segment } from '../segment'\n\nexport interface TriangleCollideElement extends BaseCollideElement {\n  shape: 'triangle'\n  point1: Point\n  point2: Point\n  point3: Point\n  points: Point[]\n  segments: Segment[]\n}\n\nexport * from './triangle'\n","import { RectangleCollideElement } from './rectangle'\nimport { SegmentCollideElement } from './segment'\nimport { CircleCollideElement } from './circle'\nimport { TriangleCollideElement } from './triangle'\n\nexport * from './rectangle'\nexport * from './circle'\nexport * from './segment'\nexport * from './triangle'\n\nexport interface BaseCollideElement {\n  shape: string\n  collide(element: CollideElement): boolean\n}\n\nexport type CollideElement =\n  | RectangleCollideElement\n  | SegmentCollideElement\n  | CircleCollideElement\n  | TriangleCollideElement\n","import { createVancas } from 'vancas'\nimport { MouseCalculator } from './mouse'\nimport { CollideElement, Triangle } from '../lib'\nimport { Circle, Segment, Point, Rectangle } from '../lib'\nimport { pointInPolygon } from '../lib/triangle/pointInPolygon'\n\nconst root = document.getElementById('root')\nconst vancas = createVancas({ height: 500, width: 500 })\n\nif (root) {\n  root.innerHTML = ''\n  root.appendChild(vancas.canvasEl)\n}\n\nconst mouse = new MouseCalculator(vancas.canvasEl.getBoundingClientRect())\n\nconst bgElems: (CollideElement & { color: string })[] = [\n  Object.assign(new Rectangle(80, 50, 100, 200), { color: 'blue' }),\n  Object.assign(new Segment(new Point(200, 50), new Point(300, 450)), {\n    color: 'green',\n  }),\n  Object.assign(new Circle(50, 50, 15), { color: 'red ' }),\n  Object.assign(\n    new Triangle(new Point(100, 300), new Point(50, 350), new Point(150, 350)),\n    { color: 'orange' }\n  ),\n]\n\nlet colliderColor = 'white'\n// const collider = new Rectangle(0, 0, 10, 10)\n// const collider = new Segment(new Point(0, 0), new Point(0, 0))\n// const collider = new Point(0, 0)\nconst collider = new Triangle(new Point(0, 0), new Point(0, 0), new Point(0, 0))\n// const collider = new Circle(0, 0, 10)\n\n// mouse.onClick(() => {\n//   collider.point1.x = mouse.x\n//   collider.point1.y = mouse.y\n// })\n\nvancas.update = () => {\n  // collider.point2.x = mouse.x\n  // collider.point2.y = mouse.y\n  // collider.x = mouse.x\n  // collider.y = mouse.y\n\n  collider.point1.x = mouse.x\n  collider.point1.y = mouse.y\n  collider.point2.x = mouse.x - 10\n  collider.point2.y = mouse.y + 10\n  collider.point3.x = mouse.x + 10\n  collider.point3.y = mouse.y + 10\n\n  let hasCollide = false\n  for (const elem of bgElems) {\n    if (elem.collide(collider)) {\n      colliderColor = elem.color\n      hasCollide = true\n    }\n  }\n  if (hasCollide === false) {\n    colliderColor = 'white'\n  }\n}\n\nvancas.render = () => {\n  vancas.clear()\n  vancas.background('black')\n\n  bgElems.forEach((elem) => {\n    if (elem.shape === 'rectangle') {\n      vancas.rect(elem)\n    } else if (elem.shape === 'segment') {\n      vancas.line({\n        x1: elem.point1.x,\n        y1: elem.point1.y,\n        x2: elem.point2.x,\n        y2: elem.point2.y,\n        color: elem.color,\n      })\n    } else if (elem.shape === 'circle') {\n      vancas.circle(elem)\n    } else if (elem.shape === 'triangle') {\n      vancas.triangle({\n        x1: elem.point1.x,\n        y1: elem.point1.y,\n        x2: elem.point2.x,\n        y2: elem.point2.y,\n        x3: elem.point3.x,\n        y3: elem.point3.y,\n        color: elem.color,\n      })\n    }\n  })\n  // vancas.line({\n  //   x1: collider.point1.x,\n  //   y1: collider.point1.y,\n  //   x2: collider.point2.x,\n  //   y2: collider.point2.y,\n  //   color: colliderColor,\n  // })\n  // vancas.rect({ ...collider, color: colliderColor })\n  // vancas.circle({ ...collider, color: colliderColor })\n  // vancas.circle({\n  //   x: collider.x,\n  //   y: collider.y,\n  //   radius: 5,\n  //   color: colliderColor,\n  // })\n  vancas.triangle({\n    x1: collider.point1.x,\n    y1: collider.point1.y,\n    x2: collider.point2.x,\n    y2: collider.point2.y,\n    x3: collider.point3.x,\n    y3: collider.point3.y,\n    color: colliderColor,\n  })\n}\n\nvancas.start()\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}